<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Pulse Clicker</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root{
  --bg:#0e0f13;
  --panel:#171922;
  --text:#eaeaf0;
}

*{box-sizing:border-box;user-select:none}

body{
  margin:0;
  height:100vh;
  display:flex;
  background:var(--bg);
  color:var(--text);
  font-family:Inter,Arial,sans-serif;
}

/* SHOP */
#shop{
  width:300px;
  background:var(--panel);
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:15px;
  border-right:1px solid #222;
}

.upgrade{
  background:#1f2230;
  padding:14px;
  border-radius:12px;
  cursor:pointer;
  transition:.2s;
}

.upgrade.affordable{ box-shadow:0 0 12px rgba(80,200,255,.6); }
.upgrade.denied{ background:#402020; }

.upgrade:hover{ background:#2a2e42; }

.upgrade strong{ display:block; }
.upgrade small{ opacity:.7; }

/* GAME */
#game{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:25px;
  position:relative;
}

#count{ font-size:36px; }

#circle{
  width:220px;
  height:220px;
  border-radius:50%;
  background:radial-gradient(circle at top,#6fa3ff,#2b5cff);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:transform .4s;
}

/* PARTICLES */
.particle{
  position:absolute;
  pointer-events:none;
  animation:float .8s forwards;
}

@keyframes float{
  to{ transform:translateY(-40px); opacity:0; }
}
</style>
</head>
<body>

<div id="shop">
  <div class="upgrade" onclick="buy(auto)">
    <strong id="autoT"></strong><small>+0.5 / sec</small>
  </div>
  <div class="upgrade" onclick="buy(multi)">
    <strong id="multiT"></strong><small>+1 click</small>
  </div>
  <div class="upgrade" onclick="buy(pulse)">
    <strong id="pulseT"></strong><small>+5 click</small>
  </div>
  <div class="upgrade" onclick="buy(mega)">
    <strong id="megaT"></strong><small>+10 click</small>
  </div>
  <div class="upgrade" onclick="buy(crit)">
    <strong id="critT"></strong><small>Crit chance</small>
  </div>
  <div class="upgrade" onclick="buy(critPower)">
    <strong id="critPT"></strong><small>Crit x3</small>
  </div>
  <div class="upgrade" onclick="buy(autoMulti)">
    <strong id="autoMT"></strong><small>Autos stronger</small>
  </div>
</div>

<div id="game">
  <div id="count">0</div>
  <div id="circle">CLICK</div>
</div>

<script>
/* FORMAT NUMBERS */
function format(n){
  if(n < 1e6) return Math.floor(n).toLocaleString();
  const u=["","K","M","B","T","Qa","Qi"];
  let i=Math.floor(Math.log10(n)/3);
  return (n/10**(i*3)).toFixed(2)+u[i];
}

/* STATE */
let points=0, perClick=1, autoRate=.5;
let critChance=0, critMult=2, autoMult=1;

/* UPGRADES */
const auto={cost:20, buy(){autoRate+=.5;this.cost*=1.6}};
const multi={cost:50, buy(){perClick+=1;this.cost*=1.7}};
const pulse={cost:250,buy(){perClick+=5;this.cost*=2}};
const mega={cost:800,buy(){perClick+=10;this.cost*=2.2}};
const crit={cost:400,buy(){critChance+=.05;this.cost*=2}};
const critPower={cost:1500,buy(){critMult=3;this.cost*=3}};
const autoMulti={cost:2000,buy(){autoMult+=.5;this.cost*=2.5}};

const upgrades=[auto,multi,pulse,mega,crit,critPower,autoMulti];
const titles=[
  autoT,multiT,pulseT,megaT,critT,critPT,autoMT
];

/* UPDATE */
function update(){
  count.textContent=format(points);
  upgrades.forEach((u,i)=>{
    titles[i].textContent=`${titles[i].id.replace("T","")} (${format(u.cost)})`;
    titles[i].parentElement.classList.toggle("affordable",points>=u.cost);
  });
}

/* BUY */
function buy(u){
  if(points<u.cost){
    event.currentTarget.classList.add("denied");
    setTimeout(()=>event.currentTarget.classList.remove("denied"),150);
    return;
  }
  points-=u.cost;
  u.buy();
  update();
}

/* CLICK */
circle.onclick=e=>{
  let gain=perClick;
  if(Math.random()<critChance) gain*=critMult;
  points+=gain;
  animate();
  particle("+"+format(gain),e.clientX,e.clientY);
  update();
};

function animate(){
  circle.style.transform="scale(1.2)";
  setTimeout(()=>circle.style.transform="scale(1)",400);
}

function particle(t,x,y){
  const p=document.createElement("div");
  p.className="particle";
  p.textContent=t;
  p.style.left=x+"px";
  p.style.top=y+"px";
  game.appendChild(p);
  setTimeout(()=>p.remove(),800);
}

/* AUTO */
setInterval(()=>{
  points+=autoRate*autoMult;
  update();
},1000);

update();
</script>
</body>
</html>
